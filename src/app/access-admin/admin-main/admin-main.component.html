<mat-drawer-container class="h-100 ">
    <mat-drawer #drawer class="sidenav" mode="side">
        <div (click)="goToGenerateSurvey()" class="opcionesMenu mt-5">Generar codigo</div>
        <div class="spacer mb-2">&nbsp;</div>
        <div (click)="changeTab(1)" class="opcionesMenu">Sorteos Activos</div>
        <div class="spacer mb-2">&nbsp;</div>
        <div (click)="changeTab(0)" class="opcionesMenu">Historial</div>
        <div class="spacer mb-2">&nbsp;</div>
        <div class="opcionesMenu">Configuracion</div>
        <div class="spacer mb-2">&nbsp;</div>
    </mat-drawer>


    <div class="container cntSurveys">
        <div class="row bg-logo h-33 ">
            <div class="col-4 h-100 cnt-logo m-2">
                <div class="row btnMenuCnt">
                    <div class="col-12  ">'
                        <mat-icon (click)="drawer.toggle()">
                            menu
                        </mat-icon>

                    </div>
                </div>
                <div class="row">
                    <img class="logoSurveys" src="../../assets/userNotFound.png" />
                </div>
            </div>
            <div class="col infoTxtSpace">
                <div class="row">
                    <span class="txtNombre">Nombre</span>
                </div>
                <div class="row">
                    <span class="txtPuesto   ">
                        Puesto
                    </span>
                </div>
            </div>
        </div>
        <div class="row h-100">
            <div class="col-12">
                <mat-tab-group [(selectedIndex)]="slctdTab" class="w-100">
                    <mat-tab>
                        <div class="col-12">
                            <div class="row w-100 h-100">
                                <div class="col-12 text-center">
                                    <div class="row justify-content-center cabeceraSeccion">
                                        <div class="col-12 m-3">
                                            <p>
                                                HISTORIAL
                                            </p>
                                        </div>

                                    </div>
                                    <div class="row justify-content-center cntGraficas mt-2"
                                        *ngFor="let survey of arrSorteosInactivos">
                                        <div class="col-12 ">
                                            <mat-card>
                                                <mat-card-title>{{survey[0]}}</mat-card-title>
                                                <mat-card-subtitle>
                                                    {{survey[1].capitulo}}| {{survey[1].fecha}} |{{survey[1].maestro}}
                                                </mat-card-subtitle>

                                                <mat-card-content>


                                                    <div class="skillbar clearfix " data-percent="0%">
                                                        <div class="skillbar-title" style="background: #2980b9;">
                                                            <span>Maestro</span>
                                                        </div>
                                                        <progress style="background: #3498db; width: 100%; height: 100%;" max="100" value="90" >
                                                        </progress>
                                                    </div>

                                                    <div class="skillbar clearfix " data-percent="85%">
                                                        <div class="skillbar-title" style="background: #46465e;">
                                                            <span>Staff</span>
                                                        </div>
                                                        <progress style="background: #55a68a; width: 100%; height: 100%;" max="100" value="60" >
                                                        </progress>
                                                    </div>

                                                    <div class="skillbar clearfix " data-percent="85%">
                                                        <div class="skillbar-title" style="background: #27ae60;">
                                                            <span>Curso</span>
                                                        </div>
                                                        <progress style="background: #2ecc71; width: 100%; height: 100%;" max="100" value="60" >
                                                        </progress>
                                                        
                                                    </div>

                                                </mat-card-content>
                                            </mat-card>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab>
                        Sorteos Activos
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
</mat-drawer-container>

<!-- <ng-container *ngIf="showGanador else principal">

    <body background="../../../assets/FondoAdmin.jpeg">
        <div class="container main-ctn h-90">
            <div class="row text-center">
                <div class="col">
                    <div class="paddin-contenido">
                        <div class="fondoGris">
                            <div>
                                <img class="bgSmp" src="../../../assets/BGSMP.png" />
                            </div>
                            <div>
                                <img class="mainLogoSmp" src="../../assets/LogoSMP.png" />
                            </div>
                            <h2 class="titulo"> EL ganador es:</h2>
                            <div class="name-apariencia">
                                {{nameGanador}}
                            </div>
                            <div class="pin-apariencia">
                                {{pinGanador}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</ng-container>
<ng-template #principal>
    <mat-drawer-container>
        <mat-drawer #drawer class="example-sidenav" mode="side">
            <button (click)="goToGenerateSurvey()" class="generate">
                Generar codigo
            </button>
        </mat-drawer>
        <div class="example-sidenav-content">
            <button type="button" mat-button (click)="drawer.toggle()" class="sorteo">
                <img src="../../../assets/Flama 1.png" />
                <p>sorteo</p>
            </button>
        </div>
        <div>
            <img src="../../../assets/LogoSMP.png" class="perfil" />
        </div>
        <mat-tab-group>
            <mat-tab label="Historial">
                <p class="letra-historial">historial</p>
                <div class="cont-historial" *ngFor="let item of arrSurveys">
                    <mat-progress-bar mode="determinate" value="50"></mat-progress-bar>

                </div>
            </mat-tab>
            <mat-tab label="Sorteos Activos">

                <ng-container *ngIf="detalleSeleccionado else listadoSorteos">
                    <div class="row cadaParticipante mt-3" *ngFor="let item of surveys | async">
                        <div class="col">{{ item.user }}</div>
                        <div class="col">{{ item.pinToWin }}</div>
                    </div>
                    <div class="row mt-3">
                        <button (click)="detalleSeleccionadoToFalse()">
                            Regresar
                        </button>

                        <button class="btn-sortear" (click)="obtenerGanador()">
                            Sortear
                        </button>
                    </div>
                </ng-container>

                <ng-template #listadoSorteos>
                    <div class="row mt-3" *ngFor="let cadaSorteoActivo of arrSurveys"
                        (click)="seleccionSorteo(cadaSorteoActivo[0])">
                        <div class="col-2">{{ cadaSorteoActivo[1].capitulo }}</div>
                        <div class="col">{{ cadaSorteoActivo[1].maestro }}</div>
                        <div class="col-5">{{ cadaSorteoActivo[1].fecha }}</div>
                        <div class="col">Participantes:{{ cadaSorteoActivo[1].noParticipantes?
                            cadaSorteoActivo[1].noParticipantes : 0 }}</div>
                    </div>
                </ng-template>
            </mat-tab>
        </mat-tab-group>
    </mat-drawer-container>
</ng-template> -->